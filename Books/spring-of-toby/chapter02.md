# 테스트

## 단위 테스트
- 작은 단위의 코드에 대해 테스트 하는 것.
- 여기서 의미하는 단위는 하나의 관심에 집중해서 효율적으로 테스트할 만한 범위의 단위이다. 
  - 일반적으로 단위는 작을수록 좋다.
- 테스트하기 쉬운 코드가 좋은 코드다.

## JUnit
- JUnit은 자바로 단위 테스트를 만들 때 유용한 테스트 지원 도구이다. (= 프레임워크)
- 프레임워크는 개발자가 만든 클래스에 대한 제어 권한을 넘겨받아 애플리케이션의 흐름을 제어한다. 
- main() 메소드의 테스트는 한계가 있기 때문에 JUnit을 이용해 단위 테스트를 진행한다.
- JUnit 테스트 메소드는 public으로 선언해야 한다. 
- @Before 어노테이션으로 테스트 메소드가 실행되기 전에 먼저 실행되는 메소드를 정의할 수 있다.

### 테스트 결과의 일관성
- 테스트는 일관성 있는 결과를 보장해야 한다.
- 외부의 상태에 따라 테스트가 성공이 되거나 실패가 되면 안된다.
- 단위 테스트는 코드가 바뀌지 않는다면 매번 실행할 때마다 동일한 테스트 결과를 얻을 수 있어야 한다.
- 테스트를 실행하는 순서를 바꿔도 동일한 결과가 보장되도록 만들어야 한다.

## 테스트 주도 개발
- 만들고자 하는 기능을 테스트 코드를 먼저 만들고, 테스트를 성공하게 해주는 코드를 작성하는 방식의 개발 방법을 테스트 주도 개발(Test Driven Development)이라 한다.
  - 테스트를 코드보다 먼저 작성한다고 해서 테스트 우선 개발(Test First Development)라고도 한다.
- "실패한 테스트를 성공시키기 위한 목적이 아닌 코드는 만들지 않는다."는 것이 TDD의 기본 원칙이다.
- 테스트를 작성하고 성공시키는 코드를 만드는 작업의 주기를 가능한 짧게 가져가야 한다.
- TDD를 하면 자연스럽게 단위 테스트를 만들 수 있다.

## 픽스처
- 테스트를 수행하는데 필요한 정보나 오브젝트를 픽스처(fixture)라고 한다.
- 픽스처는 여러 테스트에서 반복적으로 사용되기 때문에 @Before 메소드로 생성해서 사용한다.

### @Autowired
- @Autowired는 스프링 DI에서 사용되는 특별한 어노테이션이다.
- @Autowired가 붙은 인스턴스 변수가 있으면 변수 타입과 일치하는 컨텍스트 내의 빈을 찾아 변수에 주입해준다.
- 일반적으로는 생성자나 수정자 메소드 같은 메소드가 필요하지만 이 경우 메소드가 없어도 주입이 가능하다.
- 필드의 타입정보를 이용해 빈을 자동으로 가져오는 방법을 타입에 의한 자동와이어링이라고 한다.
- 하지만 @Autowired는 같은 타입의 빈이 두 개 이상 있는 경우에는 타입만으로는 어떤 빈을 가져올지 결정할 수 없다.
  - 이 경우에는 변수의 이름과 같은 이름의 빈이 있는지 확인한다.
  - 변수 이름으로도 빈을 찾을 수 없는 경우에는 예외가 발생한다.
